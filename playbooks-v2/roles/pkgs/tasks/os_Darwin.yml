---

- name: Include package manager tasks
  ansible.builtin.include_tasks:
    file: "managers/homebrew.yml"
  tags: always

- name: Install Homebrew casks
  community.general.homebrew_cask:
    name: "{{ pkgs_homebrew_casks }}"
    accept_external_apps: "{{ pkgs_accept_external_casks }}"
  tags: [packages, casks]

- name: Install Mac App Store apps
  community.general.mas:
    id: "{{ pkgs_mas_apps }}"
    upgrade_all: true
  when: mas_apps | length > 0
  tags: [packages, mas]
