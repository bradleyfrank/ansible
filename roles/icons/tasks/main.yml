---

- name: "Install `fileicon`"
  community.general.homebrew:
    name: "fileicon"
    state: "present"
  when: ansible_facts['system'] == "Darwin"
  tags: [icons, install]

- name: "Include tasks per app directory"
  ansible.builtin.include_tasks:
    file: "icons.yml"
  loop: "{{ icons_app_paths }}"
  loop_control:
    label: "{{ path }}"
    loop_var: path
  when: ansible_facts['system'] == "Darwin"
  tags: [icons]
