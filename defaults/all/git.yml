---

enable_fsmonitor: true

gitconfig:
  - section: "alias"
    configs:
      - "co = checkout"
      - "graph = log --oneline --decorate --graph --all"
      - "history = log --full-history --"
      - "last = log -1 HEAD --stat"
      - "ll = log --oneline"
      - "s = switch"
      - "sb = status -sb"
      - "search = !git rev-list --all | xargs git grep -F"
      - "tags = tag -l --sort=v:refname"
      - "unstage = reset HEAD --"
      - "upstream = !git branch --show-current | xargs -I{} git branch --set-upstream-to origin/{} {}"
      - "wtl = worktree list"
  - section: "core"
    configs:
      - "excludesfile: {{ ansible_facts['user_dir'] }}/.gitignore"
      - "editor = vim"
      - "pager = delta"
  - section: "delta"
    configs:
      - "syntax-theme = Solarized (light)"
      - "navigate = true"
      - "line-numbers = true"
  - section: "help"
    configs:
      - "autocorrect = 20"
  - section: "init"
    configs:
     - "defaultBranch = main"
  - section: "interactive"
    configs:
     - "diffFilter = delta --color-only"
  - section: "pull"
    configs:
     - "rebase = true"
  - section: "push"
    configs:
     - "default = current"
  - section: "rebase"
    configs:
     - "autoStash = true"
  - section: "user"
    configs:
      - "name = {{ ansible_facts['user_gecos'] }}"
      - "email = {{ email_address }}"
      - "signingkey = {{ signing_key[0] }} {{ signing_key[1] }}"
  - section: "gpg"
    configs:
     - "format = ssh"
  - section: "gpg 'ssh'"
    configs:
     - "allowedSignersFile = {{ allowed_signers_path }}"
  - section: "commit"
    configs:
     - "gpgsign = true"
