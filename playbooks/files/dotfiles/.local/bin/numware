#!/usr/bin/env bash

#
# Creates a N-length dicware passphrase with a N-length random number at the end.
# Author: Brad Frank
# Date: Jan 2022
# Tested: GNU bash, version 5.1.12(1)-release (x86_64-apple-darwin21.1.0)
#

_numware() {
  local dice num
  dice="$(shuf -n "${1:-5}" ~/.local/share/dict/words \
    | xargs -I{} echo {} | sed 's/.*/\u&/' | xargs | tr " " "${2:--}")"
  num="$(for _ in $(seq "${1:-5}"); do echo -n $((SRANDOM % 10)); done | xargs)"
  echo -n "${dice}${2:--}${num}"
}

_numware "$@"
