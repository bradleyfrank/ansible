#!/usr/bin/env bash

#
# Dumps entire current pane history into a file.
# Author: Brad Frank
# Date: August 2021
# Tested: GNU bash, version 5.1.8(1)-release (x86_64-apple-darwin20.3.0)
# Requires: tmux
#

log_dir="$HOME/Development/Logs"
filename="$(tmux display-message -p 'tmux-%Y%m%d%I%M-#{session_name}-w#{window_index}p#{pane_index}.out')"

[[ -d "$log_dir" ]] || mkdir -p "$log_dir"

tmux capture-pane -S -
tmux save-buffer "$log_dir"/"$filename"
