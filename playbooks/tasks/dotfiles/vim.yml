---

- name: Create vim extensions directory path
  ansible.builtin.file:
    path: "{{ vim['extensions_dest'] }}"
    state: directory
    mode: 0755

- name: Install vim extensions
  ansible.builtin.git:
    repo: "{{ item['repo'] }}"
    dest: "{{ vim['extensions_dest'] }}/{{ item['name'] }}"
    depth: '1'
    version: "{{ item['version'] | default(omit) }}"
  loop: "{{ vim['extensions'] }}"
  loop_control:
    label: "{{ item['name'] }}"
