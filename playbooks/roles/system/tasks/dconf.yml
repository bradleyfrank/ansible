---

- name: Install vim (via OS package manager)
  ansible.builtin.package:
    name: "dconf"
  become: true
  tags: [system, linux_settings, dconf, become]

- name: Apply dconf settings
  community.general.dconf:
    key: "{{ dconf_prefix }}/{{ dconf['key'] }}"
    value: "{{ dconf['value'] }}"
  loop: "{{ dconf_settings | dict2items }}"
  loop_control:
    label: "{{ dconf_prefix }}/{{ dconf['key'] }}"
    loop_var: "dconf"
  tags: [system, linux_settings, dconf]
